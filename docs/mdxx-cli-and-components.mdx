---
title: amdxg@0.5.0 - amdxg-cli & amdx-components
created: 1588952818281
tags: [amdx]
---

## ChangeLog

- amdx
  - `$$ ~ $$` の数式ブロックを amp-mathml に変換
- amdxg-components
  - `amdxg` は現状単なるボイラープレートだが、設定が最小で済むように `Layout` `Article` などに抽出
  - [amp-social-share で、はてなブックマークに対応](/amp-social-share-for-hatena-bookmark)
- amdxg-cli: CLI ツール
  - 記事一覧の生成 (`gen/pages.json`)
  - 記事のヒストリーの生成 (`gen/*.history.json`)

## amdxg-cli のインストール

```bash
npm install -g amdxg-cli
```

## amdxg new

WIP

## new feature: 新規記事の作成

```
amdxg new:page [foo]
```

## new feature: インデックスの記事一覧とヒストリーの生成

```
amdxg build:index
```

`docs` ディレクトリの記事一覧から、`gen/pages.json` を生成する。

```
amdxg build:history
```

`docs/*.mdx` の git コミットログから変更ヒストリーを生成する。

```tsx
import history from "../gen/pages/foo.history.json";
import { History } from "amdxg-components";

<History history={history} />;
```

amdxg.config で、もし `"repository": "mizchi/amdx"` のように GitHub のリポジトリを指定していると、そのコミットへのリンクになる。

## TODO

- `pages/sitemap.xml`: sitemap 対応
- `pages/feed.rss`: feed 対応
- `amdxg new your-blog`: 最新版から scaffold できるようにする
- `amdxg new:page` 時、記事生成のテンプレート化できるようにする対応
- `amdxg-components`: `Layout` を使わない、カスタマイズ度が高い作例を用意する
- frontmatter のタグ一覧対応
- amdxg を github actions でデプロイできるようにしておく
- amdx preview の vscode extension
